import React, { useState } from 'react';
import { Amplify } from 'aws-amplify';
import { generateClient } from 'aws-amplify/api';
import * as mutations from './graphql/mutations';
import awsExports from './aws-exports';

Amplify.configure(awsExports);

const client = generateClient();

const itineraryData = [
  { startTime: "21:30", title: "è¥¿èˆ¹æ©‹é§…å—å£ é«˜é€Ÿãƒã‚¹ä¹—ã‚Šå ´ é›†åˆ", points: "ãƒˆã‚¤ãƒ¬ã‚’æ¸ˆã¾ã›ã€é£²ã¿ç‰©ãªã©ã‚’æº–å‚™ã€‚ãƒã‚¹ã¯å®šåˆ»ã«å‡ºç™ºã—ã¾ã™ã€‚æ—©ã‚ã®è¡Œå‹•ã‚’å¿ƒãŒã‘ã¾ã—ã‚‡ã†ã€‚" },
  { startTime: "22:10", title: "å¤œè¡Œãƒã‚¹ä¹—è»Šãƒ»å¤§é˜ªã¸å‡ºç™ºï¼", points: "å¤§é˜ªã§ã®å¤§å†’é™ºã‚’å¤¢è¦‹ã¦ã€ãŠã‚„ã™ã¿ãªã•ã„ã€‚ãƒªãƒ©ãƒƒã‚¯ã‚¹ã§ãã‚‹æœè£…ãŒãŠã™ã™ã‚ã§ã™ã€‚" },
  { startTime: "8:50", title: "å¤§é˜ªä¸‡åš è¥¿ã‚²ãƒ¼ãƒˆå‰ åˆ°ç€", points: "ãƒã‚¹ã‚’é™ã‚ŠãŸã‚‰ã€ã¾ãšãƒˆã‚¤ãƒ¬ã®å ´æ‰€ã‚’ç¢ºèªã€‚å¤¢ã«è¦‹ãŸä¸‡åšä¼šå ´ã¯ã‚‚ã†ç›®ã®å‰ï¼" },
  { startTime: "9:00", title: "ã‚·ãƒ£ãƒˆãƒ«ãƒã‚¹ã§JRæ¡œå³¶é§…ã¸", points: "è¥¿ã‚²ãƒ¼ãƒˆå‰ã®ãƒã‚¹ãƒ­ãƒ¼ã‚¿ãƒªãƒ¼ã‹ã‚‰ä¹—è»Šã€‚ç´„15åˆ†ã®ãƒã‚¹æ—…ã§ã™ã€‚" },
  { startTime: "9:15", title: "JRã‚†ã‚å’²ç·šã§ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ã‚·ãƒ†ã‚£é§…ã¸", points: "æ¡œå³¶é§…ã‹ã‚‰ä¸€é§…ã ã‘é›»è»Šã«ä¹—ã‚Šã¾ã™ã€‚ã™ãã«åˆ°ç€ï¼" },
  { startTime: "9:25", title: "ãƒãƒƒãƒ—ã‚³ãƒ¼ãƒ³ãƒ‘ãƒ‘ã§ç‰¹åˆ¥ãªæœé£Ÿã‚’ï¼", points: "32ç¨®é¡ã®å‘³ã‹ã‚‰ãŠæ°—ã«å…¥ã‚Šã‚’é¸ã³ã¾ã—ã‚‡ã†ï¼ã“ã“ã‹ã‚‰æ°—åˆ†ã¯æœ€é«˜æ½®ï¼" },
  { startTime: "10:00", title: "UCWã‚’æ•£ç­–ï¼†æ—©ã‚ã®ãƒ©ãƒ³ãƒ", points: "ã‚«ãƒ©ãƒ•ãƒ«ãªã‚·ãƒ§ãƒƒãƒ—ã‚’çœºã‚ãŸã‚Šã€å¤§é˜ªåç‰©ãŸã“ç„¼ãã®é£Ÿã¹æ¯”ã¹ã‚’ã—ãŸã‚Šã€‚11æ™‚é–‹åº—ã®ã€ŒTAKOPAã€ãŒç‹™ã„ç›®ã§ã™ã€‚" },
  { startTime: "11:45", title: "ä¸‡åšä¼šå ´ã¸å¸°é‚„ï¼", points: "å†ã³JRã¨ã‚·ãƒ£ãƒˆãƒ«ãƒã‚¹ã‚’ä¹—ã‚Šç¶™ãã€æ±ºæˆ¦ã®åœ°ãƒ»è¥¿ã‚²ãƒ¼ãƒˆã¸ã€‚ã„ã‚ˆã„ã‚ˆå…¥å ´ã§ã™ï¼" },
  { startTime: "12:00", title: "ã€æœ€é‡è¦ã€‘å…¥å ´ï¼†å½“æ—¥äºˆç´„é›»æ’ƒä½œæˆ¦ï¼", points: "å…¥å ´ã‚²ãƒ¼ãƒˆã‚’é€šéã—ãªãŒã‚‰ã€ã‚¹ãƒãƒ›ã§**ã‚¬ãƒ³ãƒ€ãƒ ãƒ‘ãƒ“ãƒªã‚ªãƒ³(12æ™‚æ )**ã®å½“æ—¥ç™»éŒ²ã«æŒ‘æˆ¦ï¼å–ã‚Œã‚Œã°æœ€é«˜ã€å–ã‚Œãªãã¦ã‚‚å…¨ãå•é¡Œãªã—ï¼" },
  { startTime: "12:30", title: "æ¡ˆå†…æ‰€ã§æƒ…å ±åé›†ï¼†ä½œæˆ¦ä¼šè­°", points: "ã¾ãšã¯æ¡ˆå†…æ‰€ã¸ã€‚ã€Œå­ã©ã‚‚ãŒæ¥½ã—ã‚ã‚‹ã€ä»Šä¸€ç•ªç©ºã„ã¦ã„ã‚‹ãƒ‘ãƒ“ãƒªã‚ªãƒ³ã¯ï¼Ÿã€ã¨èãã¾ã—ã‚‡ã†ï¼ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æƒ…å ±ã‚’ã‚²ãƒƒãƒˆï¼" },
  { startTime: "13:00", title: "ã€ä¸–ç•Œæ—…è¡Œã¸å‡ºç™ºï¼ã€‘äºˆç´„ä¸è¦ãƒ‘ãƒ“ãƒªã‚ªãƒ³å·¡ã‚Š", points: "å„ªå…ˆåº¦Sï¼šğŸ‡³ğŸ‡±ã‚ªãƒ©ãƒ³ãƒ€ã€ğŸ‡¨ğŸ‡­ã‚¹ã‚¤ã‚¹ã€ğŸ‡©ğŸ‡ªãƒ‰ã‚¤ãƒ„\nå„ªå…ˆåº¦Aï¼šğŸ‡¦ğŸ‡ªUAEã€ğŸ‡¦ğŸ‡ºã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢ã€ğŸ‡ºğŸ‡¸ã‚¢ãƒ¡ãƒªã‚«\næ¡ˆå†…æ‰€ã®æƒ…å ±ã‚’ã‚‚ã¨ã«ã€å¾…ã¡æ™‚é–“ã®å°‘ãªã„ãƒ‘ãƒ“ãƒªã‚ªãƒ³ã‹ã‚‰æ”»ç•¥ï¼" },
  { startTime: "(æ™‚é–“æœªå®š)", title: "äºˆç´„æ¸ˆã¿ãƒŸãƒ¥ãƒ¼ã‚¸ã‚«ãƒ«é‘‘è³", points: "ãƒ‘ãƒ“ãƒªã‚ªãƒ³å·¡ã‚Šã®åˆé–“ã«ã€äºˆç´„ã—ãŸã‚¹ã‚¿ãƒ³ãƒ‰å¸­ã§ç´ æ™´ã‚‰ã—ã„ã‚·ãƒ§ãƒ¼ã‚’é‘‘è³ã€‚è‰¯ã„ä¼‘æ†©ã«ã‚‚ãªã‚Šã¾ã™ã€‚" },
  { startTime: "16:00", title: "ä¼‘æ†©ï¼†ãƒ•ãƒªãƒ¼ã‚¿ã‚¤ãƒ ", points: "äººæ··ã¿ã«ç–²ã‚ŒãŸã‚‰ã€Œé™ã‘ã•ã®æ£®ã€ã§ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ã€‚ãŠã‚„ã¤ã‚’é£Ÿã¹ãŸã‚Šã€å±‹å¤–ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ¥½ã—ã‚“ã ã‚Šã—ã¾ã—ã‚‡ã†ã€‚" },
  { startTime: "19:30é ƒ", title: "å¤œç©ºã‚’å½©ã‚‹ãƒ‰ãƒ­ãƒ¼ãƒ³ã‚·ãƒ§ãƒ¼ï¼ˆèŠ±ç«ï¼‰é‘‘è³", points: "ä¸€æ—¥ã®ç· ã‚ããã‚Šã«ã€æœªæ¥ã®èŠ±ç«ã‚’ç›®ã«ç„¼ãä»˜ã‘ã¾ã—ã‚‡ã†ã€‚æœ€é«˜ã®æ€ã„å‡ºã«ãªã‚‹ã“ã¨é–“é•ã„ãªã—ã§ã™ã€‚" },
  { startTime: "20:30é ƒ", title: "æ¢…ç”°ã¸ç§»å‹•é–‹å§‹", points: "æ„Ÿå‹•ã®ä½™éŸ»ã«æµ¸ã‚ŠãªãŒã‚‰ã€è¥¿ã‚²ãƒ¼ãƒˆã‹ã‚‰æ¢…ç”°ï¼ˆå¤§é˜ªé§…ï¼‰è¡Œãã®ã‚·ãƒ£ãƒˆãƒ«ãƒã‚¹ã«ä¹—è»Šã—ã¾ã™ã€‚" },
  { startTime: "21:15é ƒ", title: "æ¢…ç”°ã§æœ€å¾Œã®æ™©é¤", points: "ãƒ¨ãƒ‰ãƒã‚·æ¢…ç”°ã‚¿ãƒ¯ãƒ¼å‘¨è¾ºã§å¤•é£Ÿã€‚ãƒã‚¹ä¹—è»Šå‰ã«éŠ­æ¹¯ãªã©ã§æ±—ã‚’æµã›ã‚‹ã¨ã€å¸°ã‚Šã®ãƒã‚¹ãŒæ ¼æ®µã«å¿«é©ã«ãªã‚Šã¾ã™ã€‚" },
  { startTime: "22:15", title: "ãƒ¨ãƒ‰ãƒã‚·æ¢…ç”°ã‚¿ãƒ¯ãƒ¼å‰ãƒã‚¹ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã¸", points: "ä¹—ã‚Šé…ã‚Œãªã„ã‚ˆã†ã«ã€ä½™è£•ã‚’ã‚‚ã£ã¦ç§»å‹•ã—ã¾ã—ã‚‡ã†ã€‚" },
  { startTime: "22:30", title: "å¤œè¡Œãƒã‚¹ä¹—è»Šãƒ»åƒè‘‰ã¸ï¼", points: "ãŸãã•ã‚“ã®æ€ã„å‡ºã‚’èƒ¸ã«ã€å¸°è·¯ã«ã¤ãã¾ã™ã€‚ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼" },
  { startTime: "8:50", title: "è¥¿èˆ¹æ©‹é§… åˆ°ç€", points: "ç„¡äº‹åˆ°ç€ã§ã™ã€‚å®¶ã«å¸°ã‚‹ã¾ã§ãŒå†’é™ºã§ã™ã€‚æ°—ã‚’ã¤ã‘ã¦ãŠå¸°ã‚Šãã ã•ã„ï¼" }
];

export const SeedDatabase = () => {
  const [status, setStatus] = useState('å¾…æ©Ÿä¸­');

  const seedDatabase = async () => {
    setStatus('ç™»éŒ²å‡¦ç†ã‚’é–‹å§‹ã—ã¾ã™...');
    let count = 0;
    try {
      for (const item of itineraryData) {
        const input = {
          startTime: item.startTime,
          title: item.title,
          points: item.points,
          description: item.title,
        };
        await client.graphql({ query: mutations.createItinerary, variables: { input: input } });
        count++;
        setStatus(`${count} / ${itineraryData.length} ä»¶ ç™»éŒ²å®Œäº†...`);
      }
      setStatus('ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã®ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸï¼');
    } catch (error) {
      console.error('ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®ç™»éŒ²ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', error);
      setStatus('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
    }
  };

  return (
    <div>
      <h2>è¨ˆç”»æ›¸ãƒ‡ãƒ¼ã‚¿ç™»éŒ²</h2>
      <p>ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€è¨ˆç”»æ›¸ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¸€æ‹¬ç™»éŒ²ã—ã¾ã™ã€‚</p>
      <button onClick={seedDatabase} disabled={status.includes('ç™»éŒ²ä¸­') || status.includes('å®Œäº†')}>
        DBã«è¨ˆç”»ã‚’ç™»éŒ²ã™ã‚‹
      </button>
      <p>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: {status}</p>
    </div>
  );
};
